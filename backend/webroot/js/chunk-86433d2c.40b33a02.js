(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86433d2c"],{"0abf":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"pcm-login-view"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-xl-10 col-lg-12 col-md-9"},[e("div",{staticClass:"card o-hidden border-0 shadow-lg my-5"},[e("div",{staticClass:"card-body p-0"},[e("div",{staticClass:"row"},[t._m(0),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingState.login,expression:"loadingState.login"}],staticClass:"col-lg-6"},[e("div",{staticClass:"p-5"},[t._m(1),e("form",{staticClass:"user",attrs:{autocomplete:"off"},on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control form-control-user",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email","data-vv-name":"email","data-vv-as":"Email",placeholder:"Nhập email",autofocus:""},domProps:{value:t.form.email},on:{input:function(a){a.target.composing||t.$set(t.form,"email",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-user",class:{"is-invalid":t.errors.has("password")},attrs:{type:"password","data-vv-name":"password","data-vv-as":"Mật khẩu",placeholder:"Nhập mật khẩu"},domProps:{value:t.form.password},on:{input:function(a){a.target.composing||t.$set(t.form,"password",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-checkbox small"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.remember,expression:"form.remember"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck"},domProps:{checked:Array.isArray(t.form.remember)?t._i(t.form.remember,null)>-1:t.form.remember},on:{change:function(a){var e=t.form.remember,s=a.target,n=!!s.checked;if(Array.isArray(e)){var i=null,o=t._i(e,i);s.checked?o<0&&t.$set(t.form,"remember",e.concat([i])):o>-1&&t.$set(t.form,"remember",e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.form,"remember",n)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customCheck"}},[t._v("\n                                                    Tự động đăng nhập\n                                                ")])])]),e("button",{staticClass:"btn btn-primary btn-user btn-block",attrs:{type:"submit"}},[t._v("\n                                            Đăng nhập\n                                        ")])]),e("hr"),t._m(2)])])])])])])])])])},n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-lg-6 d-flex bg-gray-100 flex-column align-items-center justify-content-center"},[s("img",{staticClass:"img-fluid",attrs:{src:e("7751"),alt:""}}),s("br"),s("h3",[s("span",{staticClass:"text-warning"},[t._v("PA")]),t._v("COM")]),s("h4",[t._v("System Management")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center"},[e("h1",{staticClass:"h4 text-gray-900 mb-4"},[t._v("Đăng nhập")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button"}},[t._v("Quên mật khẩu ?")])])}],i=e("71f0"),o=e("223d"),r=e("7bee"),c={name:"pcm-login-view",data:function(){return{loadingState:{login:!1},form:{email:"",password:"",remember:!1}}},created:function(){this.$ls.get("auth_token")&&this.checkSession()},methods:{login:function(){var t=this;t.$validator.validateAll().then(function(a){a&&(t.loadingState.login=!0,o["a"].auth(t.$axios,t.form,function(a){if(t.loadingState.login=!1,a.status){switch(t.showMessage("success","Chào mừng quay trở lại"),t.$store.dispatch("syncSettings",{isSync:!1,data:a.data.setting}),delete a.data.setting,t.$axios.defaults.headers.Authorization=a.data.Authorization,t.$store.dispatch("setAppUser",a.data),t.form.remember&&t.$ls.set("auth_token",a.data.Authorization),a.data.user.role){case r["a"].role.ADMIN:t.$acl.change(i["a"].ADMIN);break;case r["a"].role.HR:t.$acl.change(i["a"].HR);break;default:t.$acl.change(i["a"].USER)}t.$router.push({name:"dashboard"})}else t.showErrorNotify(null,"Đăng nhập thất bại")},function(a){t.loadingState.login=!1}))})},checkSession:function(){var t=this;t.loadingState.login=!0,o["a"].checkSession(t.$axios,function(a){if(t.loadingState.login=!1,a.status){switch(t.showMessage("success","Chào mừng quay trở lại"),t.$store.dispatch("syncSettings",{isSync:!1,data:a.data.setting}),delete a.data.setting,t.$axios.defaults.headers.Authorization=a.data.Authorization,t.$store.dispatch("setAppUser",a.data),t.$ls.set("auth_token",a.data.Authorization),a.data.user.role){case r["a"].role.ADMIN:t.$acl.change(i["a"].ADMIN);break;case r["a"].role.HR:t.$acl.change(i["a"].HR);break;default:t.$acl.change(i["a"].USER)}t.$router.push({name:"dashboard"})}else t.showErrorNotify(null,"Đăng nhập thất bại"),t.$ls.set("auth_token",null)},function(a){t.loadingState.login=!1})}},mounted:function(){var t=document.body;t.classList.add("bg-gradient-primary")},destroyed:function(){var t=document.body;t.classList.remove("bg-gradient-primary")}},l=c,u=e("2877"),d=Object(u["a"])(l,s,n,!1,null,null,null);a["default"]=d.exports},"223d":function(t,a,e){"use strict";var s="/api/users/auth",n="/api/users/check-session",i="/api/users/get-list",o="/api/users/get-option",r="/api/users/register",c="/api/users/update",l="/api/users/get",u="/api/users/change-password",d="/api/users/get-my-dashboard";a["a"]={auth:function(t,a,e,n){t.post(s,a).then(function(t){var a=t.data;e(a)}).catch(function(t){n(t)})},checkSession:function(t,a,e){t.get(n).then(function(t){var e=t.data;a(e)}).catch(function(t){e(t)})},getList:function(t,a,e,s){var n={params:a};t.get(i,n).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})},register:function(t,a,e,s){t.post(r,a).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})},update:function(t,a,e,s){t.post(c,a).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})},changePassword:function(t,a,e,s){t.post(u,a).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})},get:function(t,a,e,s){var n={params:a};t.get(l,n).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})},getOption:function(t,a,e,s){t.get(o,a).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})},getMyDashboard:function(t,a,e,s){t.get(d,a).then(function(t){var a=t.data;e(a)}).catch(function(t){s(t)})}}},7751:function(t,a,e){t.exports=e.p+"img/logo-sm.9eb28124.png"},"7bee":function(t,a,e){"use strict";a["a"]={gender:{MALE:1,FEMALE:2},role:{ADMIN:1,HR:2,USER:9},getOptionRole:function(){return[{key:this.role.ADMIN,value:"Quản trị"},{key:this.role.HR,value:"Hành chính"},{key:this.role.USER,value:"Thành viên"}]},type:{OFFICIAL:1,TRAINEE:9},getOptionType:function(){return[{key:this.type.OFFICIAL,value:"Chính thức"},{key:this.type.TRAINEE,value:"Thực tập"}]},status:{ACTIVE:1,BLOCK:0}}}}]);
//# sourceMappingURL=chunk-86433d2c.40b33a02.js.map